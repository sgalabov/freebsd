/*
 * Copyright (c) 2013, Alexander A. Mityaev <sansan@adm.ua>
 */

/ {
	#address-cells = <1>;
	#size-cells = <1>;
	compatible = "mtk,rt5350-soc";

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;

		cpu0: cpu@0 {
			compatible = "mti,mips24kc";
			reg = <0>;
			clock-frequency = <580000000>;
		};
	};

	cpuintc: cpuintc {
		#address-cells = <0>;
		#interrupt-cells = <1>;
		interrupt-controller;
		compatible = "mti,cpu-interrupt-controller";
	};

	soc: SOC {
		device_type = "soc";
		compatible = "simple-bus";
		reg = <0x10000000 0x00200000>;
		ranges = <0x0 0x0 0x1FFFFFFF>;
		#address-cells = <1>;
		#size-cells = <1>;
		interrupt-parent = <0>;

		pbus {
		    compatible = "ralink,rt5350-palmbus", "simple-bus";
		    reg = <0x10000000 0x00100000>;
		    ranges = <0x0 0x10000000 0x1FFFFF>;
		    #address-cells = <1>;
		    #size-cells = <1>;
		    interrupt-parent = <0>;

		    intc: intc {
			compatible = "mtk,mtk-intc";
			reg = <0x200 0x100>;

			interrupt-controller;
			#interrupt-cells = <1>;

			interrupt-parent = <&cpuintc>;
			interrupts = <2>;

			status = "okay";
		    };

		    sysc: sysc {
			compatible="mtk,mtk-sysc", "ralink,rt305x-sysc";
			reg = <0x0 0x100>;
			pinctrl-0 = <&mt7620_pins>;
			mt7620_pins: pinmux_mt7620_pins {
			    pinctrl-single,bits = <0x60 0x00000000 0x00030000>,
						  <0x60 0x00002000 0x00002000>;
			};
		    };

		    spi0 {
			compatible = "mtk,mtk-spi";
			reg = < 0xb00 0x100 >;
			status = "disabled";
		    };

		    gpio0: gpio@600 {
			compatible = "mtk,mtk-gpio";
			reg = <0x600 0x34>;

			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <6>;

			clocks = <&sysc 13>;
			resets = <&sysc 13>;

			mtk,num-pins = <24>;
			mtk,register-gap;

			status = "okay";
		    };

		    gpio1: gpio@638 {
			compatible = "mtk,mtk-gpio";
			reg = <0x638 0x24>;

			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <6>;

			mtk,num-pins = <16>;

			status = "okay";
		    };

		    gpio2: gpio@660 {
			compatible = "mtk,mtk-gpio";
			reg = <0x660 0x24>;

			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <6>;

			mtk,num-pins = <32>;

			status = "okay";
		    };

		    gpio3: gpio@688 {
			compatible = "mtk,mtk-gpio";
			reg = <0x688 0x24>;

			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <6>;

			mtk,num-pins = <1>;

			status = "okay";
		    };

		    uart0: uart@c00 {
			device_type = "serial";
			compatible = "mtk,mtk-uart";
			reg = <0xc00 0x100>;
			clock-frequency = <40000000>;
			current-speed = <115200>;
			reg-shift = <2>;
			interrupts = <12>;
			interrupt-parent = <&intc>;
		    };

	        };

		ehci {
			compatible = "mtk,mtk-ehci";
			reg = <0x101C0000 0x1000>;
			interrupts = <18>;
			interrupt-parent = <&intc>;
			status = "disabled";
			resets = <&sysc 25>, <&sysc 22>;
			clocks = <&sysc 25>, <&sysc 22>;
		};

		ohci {
			compatible = "mtk,mtk-ohci";
			reg = <0x101C1000 0x1000>;
			interrupts = <18>;
			interrupt-parent = <&intc>;
			status = "disabled";
		};

	        rt {
			compatible = "mtk,mt7620-eth";
			reg = <0x10100000 0x10000>;
			status = "okay";
			interrupts = <5>;
			interrupt-parent = <&cpuintc>;
	        };

	        ral {
			compatible = "ralink,rt5350-wmac";
			reg = <0x10180000 0x40000>;
			status = "okay";
			interrupts = <6>;
			interrupt-parent = <&cpuintc>;
	        };

		pci {
			compatible = "mtk,mtk-pci";
			reg = <0x10140000 0x20000>;
			interrupts = <4>;
			interrupt-parent = <&cpuintc>;
			status = "okay";
		};
	};

	leds {
		compatible = "gpio-leds";

		red {
			label = "red";
			gpios = <&gpio1 12 0x102 0>;
			default-state = "off";
		};

		green {
			label = "green";
			gpios = <&gpio1 15 0x102 0>;
			default-state = "on";
		};

		wifi {
			label = "wifi";
			gpios = <&gpio3 0 2 0>;
			default-state = "off";
		};
	};
};

